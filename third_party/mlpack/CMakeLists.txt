#mlpack

ExternalProject_Add(${mlpack}
    PREFIX                  ${PROJECT_BINARY_DIR}/third_party/${mlpack}
    GIT_REPOSITORY          https://github.com/mlpack/mlpack.git
    GIT_TAG                 master
    INSTALL_DIR             install
    CMAKE_ARGS              -DCMAKE_INSTALL_PREFIX:PATH=${PROJECT_BINARY_DIR}/third_party/${mlpack}/install
    CMAKE_CACHE_ARGS       -DBUILD_TESTS:BOOL=FALSE -DBUILD_SHARED_LIBS:BOOL=FALSE -DDOWNLOAD_ENSMALLEN:BOOL=TRUE -DDOWNLOAD_STB_IMAGE:BOOL=FALSE -DARMADILLO_INCLUDE_DIR:PATH=${ARMADILLO_INCLUDE_DIR} -DARMADILLO_LIBRARY:PATH=${ARMADILLO_LIB_DIR} -DBoost_INCLUDE_DIR:PATH=${BOOST_IMCLUDE_DIR} -DCEREAL_INCLUDE_DIR:PATH=${CEREAL_INCLUDE_DIR}
    UPDATE_DISCONNECTED     True
    UPDATE_COMMAND          ""
)

set(MLPACK_INCLUDE_DIR ${PROJECT_BINARY_DIR}/third_party/${mlpack}/install/include PARENT_SCOPE)
set(MLPACK_LIB_DIR ${PROJECT_BINARY_DIR}/third_party/${mlpack}/install/lib PARENT_SCOPE)
set(MLPACK_LIB_NAME ${mlpack}${CMAKE_STATIC_LIBRARY_SUFFIX} PARENT_SCOPE)

